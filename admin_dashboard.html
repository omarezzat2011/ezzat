<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="dashboard_styles.css">
    <style>
        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 50%;
            box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
            border-radius: 5px;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="dashboard-container" id="welcomeMessage">
        <h2>Welcome to the Admin Dashboard</h2>
    </div>

    <div id="menu" style="display:none;">
        <button onclick="showSection('organizations')">Organizations</button>
        <button onclick="showSection('donors')">Donors</button>
        <button onclick="showSection('orgRequests')">Organization Requests</button>
        <button onclick="showSection('donorRequests')">Donor Requests</button>
    </div>

    <div id="content" style="display:none;">
        <div id="organizations" class="section" style="display: none;">
            <h2>Organization List</h2>
            <label for="filter-governorate">Governorate:</label>
            <select id="filter-governorate" onchange="filterOrganizations()">
                <option value="">All</option>
                <option value="Cairo">Cairo</option>
                <option value="Alexandria">Alexandria</option>
                <option value="Giza">Giza</option>
            </select>
            <label for="filter-area">Area:</label>
            <select id="filter-area" onchange="filterOrganizations()">
                <option value="">All</option>
                <option value="Heliopolis">Heliopolis</option>
                <option value="Nasr City">Nasr City</option>
                <option value="Kafr Abdou">Kafr Abdou</option>
                <option value="New Giza">New Giza</option>
                <option value="New Cairo">New Cairo</option>
            </select>
            <label for="filter-goal">Organization Type:</label>
            <select id="filter-goal" onchange="filterOrganizations()">
                <option value="">All</option>
                <option value="Education for All">Education for All</option>
                <option value="Healthcare Access">Healthcare Access</option>
                <option value="Environmental Protection">Environmental Protection</option>
                <option value="Food Supply">Food Supply</option>
                <option value="Community Development">Community Development</option>
            </select>
            <ul id="organizationList">
                <li class="organization">
                    <button onclick="showInfo(this)" data-name="Organization A" data-email="orga@example.com" data-governorate="Cairo" data-area="Heliopolis" data-goal="Education for All" data-phone="0101010101" data-details="Organization A focuses on educational programs in urban areas." data-location="https://maps.google.com?q=Heliopolis,Cairo">Organization A - Heliopolis, Cairo</button>
                    <button onclick="deleteOrganization(this.parentElement)">Delete</button>
                </li>
                <li class="organization">
                    <button onclick="showInfo(this)" data-name="Organization B" data-email="orgb@example.com" data-governorate="Cairo" data-area="Nasr City" data-goal="Healthcare Access" data-phone="0102020202" data-details="Organization B provides healthcare services to underprivileged communities." data-location="https://maps.google.com?q=Nasr City,Cairo">Organization B - Nasr City, Cairo</button>
                    <button onclick="deleteOrganization(this.parentElement)">Delete</button>
                </li>
                <li class="organization">
                    <button onclick="showInfo(this)" data-name="Organization C" data-email="orgc@example.com" data-governorate="Alexandria" data-area="Kafr Abdou" data-goal="Environmental Protection" data-phone="0103030303" data-details="Organization C works on environmental conservation projects." data-location="https://maps.google.com?q=Kafr Abdou,Alexandria">Organization C - Kafr Abdou, Alexandria</button>
                    <button onclick="deleteOrganization(this.parentElement)">Delete</button>
                </li>
                <li class="organization">
                    <button onclick="showInfo(this)" data-name="Organization D" data-email="orgd@example.com" data-governorate="Giza" data-area="New Giza" data-goal="Food Supply" data-phone="0104040404" data-details="Organization D is dedicated to improving food supply chains in rural areas." data-location="https://maps.google.com?q=New Giza,Giza">Organization D - New Giza, Giza</button>
                    <button onclick="deleteOrganization(this.parentElement)">Delete</button>
                </li>
                <li class="organization">
                    <button onclick="showInfo(this)" data-name="Organization E" data-email="orge@example.com" data-governorate="Cairo" data-area="New Cairo" data-goal="Community Development" data-phone="0105050505" data-details="Organization E focuses on community development and outreach programs." data-location="https://maps.google.com?q=New Cairo,Cairo">Organization E - New Cairo, Cairo</button>
                    <button onclick="deleteOrganization(this.parentElement)">Delete</button>
                </li>
            </ul>
            
            
            
        </div>
        <div id="donors" class="section" style="display: none;">
            <h2>Donor List</h2>
            <input type="text" oninput="filterList('donorList', this.value)" placeholder="Search donors..." class="search-input">
            <ul id="donorList">
                <li><button onclick="showDonorInfo(this)" data-name="Donor X" data-email="donorx@example.com" data-profession="Doctor">Donor X</button> <button onclick="deleteDonor(this.parentElement)">Delete</button></li>
                <li><button onclick="showDonorInfo(this)" data-name="Donor Y" data-email="donory@example.com" data-profession="Teacher">Donor Y</button> <button onclick="deleteDonor(this.parentElement)">Delete</button></li>
                <li><button onclick="showDonorInfo(this)" data-name="Donor Z" data-email="donorz@example.com" data-profession="Doctor">Donor Z</button> <button onclick="deleteDonor(this.parentElement)">Delete</button></li>
                <li><button onclick="showDonorInfo(this)" data-name="Donor W" data-email="donorw@example.com" data-profession="Teacher">Donor W</button> <button onclick="deleteDonor(this.parentElement)">Delete</button></li>
                <li><button onclick="showDonorInfo(this)" data-name="Donor V" data-email="donorv@example.com" data-profession="Doctor">Donor V</button> <button onclick="deleteDonor(this.parentElement)">Delete</button></li>
            </ul>
        </div>
        <div id="orgRequests" class="section" style="display: none;">
            <h2>Organization Requests</h2>
            <div class="request" id="requestExampleOrg">
                <p><strong>Name:</strong> Example Org</p>
                <p><strong>Email:</strong> example@org.com</p>
                <p><strong>Goal:</strong> Community Support</p>
                <p><strong>Governate:</strong> Cairo</p>
                <p><strong>Area: </strong>Nasr city</p>
                <button onclick="acceptRequest('organizationList', 'Example Org', 'example@org.com', 'Community Support', 'requestExampleOrg')">Accept</button>
                <button onclick="rejectRequest('requestExampleOrg')">Reject</button>
            </div>
            <div class="request" id="requestHealthInitiative">
                <p><strong>Name:</strong> Health Initiative</p>
                <p><strong>Email:</strong> health@init.org</p>
                <p><strong>Goal:</strong> Public Health Improvement</p>
                <p><strong>Governate:</strong> Alexandria</p>
                <p><strong>Area: </strong>Kafr abdou</p>
                <button onclick="acceptRequest('organizationList', 'Health Initiative', 'health@init.org', 'Public Health Improvement', 'requestHealthInitiative')">Accept</button>
                <button onclick="rejectRequest('requestHealthInitiative')">Reject</button>
            </div>
        </div>
        <div id="donorRequests" class="section" style="display: none;">
            <h2>Donor Requests</h2>
            <div class="request" id="requestSarahSmith">
                <p><strong>Name:</strong> Sarah Smith</p>
                <p><strong>Email:</strong> sarah@example.com</p>
                <p><strong>Profession:</strong> Teacher</p>
                <button onclick="acceptRequest('donorList', 'Sarah Smith', 'sarah@example.com', 'Teacher', 'requestSarahSmith')">Accept</button>
                <button onclick="rejectRequest('requestSarahSmith')">Reject</button>
            </div>
            <div class="request" id="requestMarkBenson">
                <p><strong>Name:</strong> Mark Benson</p>
                <p><strong>Email:</strong> markb@example.com</p>
                <p><strong>Profession:</strong>Doctor</p>
                <button onclick="acceptRequest('donorList', 'Mark Benson', 'markb@example.com', 'Architect', 'requestMarkBenson')">Accept</button>
                <button onclick="rejectRequest('requestMarkBenson')">Reject</button>
            </div>
        </div>
    </div>

    <!-- Modal HTML -->
    <div id="infoModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <p id="modalInfo">Some text in the Modal..</p>
        </div>
    </div>

    <script>
        setTimeout(function() {
            var welcomeMessage = document.getElementById('welcomeMessage');
            welcomeMessage.style.opacity = '1'; 
            welcomeMessage.style.display = 'block'; 
            setTimeout(function() {
                welcomeMessage.style.opacity = '0';
                setTimeout(function() {
                    welcomeMessage.style.display = 'none';
                    document.getElementById('menu').style.display = 'block';
                    document.getElementById('content').style.display = 'block';
                }, 1000);
            }, 4000); 
        }, 0);

        function showSection(sectionId) {
            var sections = document.querySelectorAll('.section');
            sections.forEach(function(section) {
                section.style.display = 'none';
            });
            document.getElementById(sectionId).style.display = 'block';
        }

        function acceptRequest(listId, name, email, additionalInfo, requestId) {
            var ul = document.getElementById(listId);
            var li = document.createElement('li');
            var button = document.createElement('button');
            button.setAttribute('onclick', 'showInfo(this)');
            button.setAttribute('data-name', name);
            button.setAttribute('data-email', email);
            if (listId === 'organizationList') {
                button.setAttribute('data-goal', additionalInfo);
            } else {
                button.setAttribute('data-profession', additionalInfo);
            }
            button.textContent = name;
            li.appendChild(button);
            ul.appendChild(li);
            document.getElementById(requestId).remove(); // Remove the request entry
            alert(name + ' has been added to ' + listId);
        }
        function filterOrganizations() {
            const governorate = document.getElementById('filter-governorate').value;
            const area = document.getElementById('filter-area').value;
            const goal = document.getElementById('filter-goal').value;
            const orgs = document.querySelectorAll('.organization');

            orgs.forEach(org => {
                const matchesGovernorate = governorate === "" || org.dataset.governorate === governorate;
                const matchesArea = area === "" || org.dataset.area === area;
                const matchesGoal = goal === "" || org.dataset.goal === goal;

                if (matchesGovernorate && matchesArea && matchesGoal) {
                    org.style.display = '';
                } else {
                    org.style.display = 'none';
                 }
             });
         }

        function showInfo(button) {
            const name = button.dataset.name;
            const email = button.dataset.email;
            alert('Name: ' + name + '\nEmail: ' + email);
        }

        function rejectRequest(requestId) {
            document.getElementById(requestId).remove(); // Remove the request entry
            alert('Request has been rejected');
        }

        
        
     function showInfo(button) {
           var name = button.dataset.name;
         var email = button.dataset.email;
         var goal = button.dataset.goal;
         var area = button.dataset.area;
         var governorate = button.dataset.governorate;
         var phone = button.dataset.phone;
         var details = button.dataset.details;
         var location = button.dataset.location;

         var modal = document.getElementById('infoModal');
         var modalInfo = document.getElementById('modalInfo');
         modalInfo.innerHTML = `
          <h3>${name}</h3>
          <p>Email: ${email}</p>
          <p>Goal: ${goal}</p>
         <p>Area: ${area}</p>
         <p>Governorate: ${governorate}</p>
         <p>Phone: ${phone}</p>
         <p>Details: ${details}</p>
         <p><a href="${location}" target="_blank">View on Google Maps</a></p>
         `;
         modal.style.display = 'block';
          }


        function closeModal() {
            var modal = document.getElementById('infoModal');
            modal.style.display = 'none';
        }

        function showDonorInfo(button) {
         var name = button.dataset.name;
         var email = button.dataset.email;
         var profession = button.dataset.profession;

         var modalInfo = document.getElementById('modalInfo');
         modalInfo.innerHTML = `
          <h3>${name}</h3>
         <p><strong>Email:</strong> ${email}</p>
         <p><strong>Profession:</strong> ${profession}</p>
         `;

         var modal = document.getElementById('infoModal');
          modal.style.display = 'block';
         }

     function deleteOrganization(listItem) {
            listItem.remove();  // This removes the list item from the DOM
            
        
        
         }   



         
         
         
         
     function deleteDonor(listItem) {
         listItem.remove();  // This removes the list item from the DOM
             }


        
    </script>
</body>
</html>
